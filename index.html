<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>IELTS Blitz</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MODE MODAL â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="modeOverlay" class="mode-overlay" style="display:none">
  <div class="mode-modal">
    <div class="mode-modal-title" id="modeModalTitle">Road to IELTS Â· Test 1</div>
    <div class="mode-modal-sub">Chá»n má»¥c Ä‘Ã­ch há»c:</div>

    <!-- Section filter (only shown when test has section data) -->
    <div class="section-filter-row" id="sectionFilterRow" style="display:none">
      <button class="section-tab active" data-section="all">Táº¥t cáº£</button>
      <button class="section-tab" data-section="reading" id="sectionTabRead">ğŸ“– Reading</button>
      <button class="section-tab" data-section="listening" id="sectionTabListen">ğŸ§ Listening</button>
    </div>

    <button class="mode-btn mode-btn-pre" id="modePreBtn">
      <span class="mode-btn-icon">ğŸ“–</span>
      <div class="mode-btn-text">
        <strong>Há»c trÆ°á»›c khi lÃ m bÃ i</strong>
        <span>LÃ m quen vá»›i tá»« má»›i Â· Exposure</span>
      </div>
    </button>
    <button class="mode-btn mode-btn-post" id="modePostBtn">
      <span class="mode-btn-icon">ğŸ”</span>
      <div class="mode-btn-text">
        <strong>Ã”n sau khi lÃ m bÃ i</strong>
        <span>Cá»§ng cá»‘ tá»« khÃ³ Â· Production</span>
      </div>
    </button>
    <button class="mode-cancel-btn" onclick="closeModeModal()">Huá»·</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HOME â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="home" class="screen active">

  <!-- Due banner -->
  <div class="due-banner" id="dueBanner" style="display:none">
    <span class="due-banner-text">ğŸ”” <span id="dueBannerCount">0</span> tá»« Ä‘áº¿n háº¡n hÃ´m nay</span>
    <button class="due-banner-btn" onclick="startDueSession()">Ã”n ngay â†’</button>
  </div>

  <div class="home-nav">
    <div class="logo-mark">Blitz<span>.</span></div>
    <div style="display:flex;gap:8px;align-items:center">
      <button class="mute-toggle home-mute-btn" onclick="setMute(!isMuted())" title="Táº¯t/báº­t Ã¢m thanh">ğŸ”Š</button>
      <button class="vocabsave-btn" onclick="vocabSaveImport()" title="KhÃ´i phá»¥c VocabSave">ğŸ“‚</button>
      <button class="vocabsave-btn" onclick="vocabSaveExport()" title="LÆ°u VocabSave">ğŸ’¾</button>
      <div class="guest-pill" id="guestPill">guest</div>
    </div>
  </div>

  <div class="home-hero">
    <div class="hero-card">
      <div class="hero-title">IELTS Vocab</div>
      <div class="hero-big">Drill fast.<br>Score higher.</div>
      <div class="hero-sub">Cambridge 13â€“20 Â· Road to IELTS</div>
      <div class="hero-stats">
        <div class="hero-stat">
          <div class="hero-stat-num" id="heroTotal">0</div>
          <div class="hero-stat-label">Words studied</div>
        </div>
        <div class="hero-stat">
          <div class="hero-stat-num" id="heroDue">0</div>
          <div class="hero-stat-label">Due today</div>
        </div>
      </div>
      <button class="review-due-btn" id="reviewDueBtn" onclick="startDueSession()" style="display:none">
        ğŸ”” Ã”n tá»« hÃ´m nay â€” <span id="reviewDueCount">0</span> tá»«
      </button>
    </div>
  </div>

  <div class="book-tabs-wrap">
    <div class="tab-row" id="bookTabs"></div>
  </div>

  <div class="tests-section">
    <div class="section-hd" id="sectionHd">Tests</div>
    <div class="test-list" id="testList"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SESSION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="session" class="screen">
  <div class="session-bar">
    <button class="back-btn" id="backBtn">â†</button>
    <div class="session-title-text" id="sessionTitle">â€”</div>
    <div class="live-score"><span class="c" id="liveC">0</span> / <span class="w" id="liveW">0</span></div>
  </div>
  <div class="prog-wrap">
    <div class="prog-bar-outer">
      <div class="prog-bar-inner" id="progBar" style="width:0%"></div>
    </div>
  </div>
  <div class="retry-banner" id="retryBanner">â†» Retry Round â€” Missed Words</div>
  <div class="stage">
    <div class="quiz-card card-anim" id="quizCard"><!-- dynamic --></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• RESULTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="results" class="screen">
  <div class="res-card">
    <div class="res-top">
      <span class="res-emoji" id="resEmoji">ğŸ¯</span>
      <div class="res-label">Session Complete</div>
      <div class="res-big" id="resBig">â€”</div>
      <div class="res-sub" id="resSub">â€”</div>
    </div>
    <div class="res-stats">
      <div class="res-stat"><div class="res-stat-num c" id="resC">0</div><div class="res-stat-label">Correct</div></div>
      <div class="res-stat"><div class="res-stat-num w" id="resW">0</div><div class="res-stat-label">Missed</div></div>
      <div class="res-stat"><div class="res-stat-num t" id="resT">0</div><div class="res-stat-label">Total</div></div>
    </div>
    <div class="missed-words-wrap" id="missedWrap" style="display:none">
      <div class="missed-hd">Review these</div>
      <div class="missed-chips" id="missedChips"></div>
    </div>
    <div class="srs-info" id="srsInfo">
      <span class="srs-info-icon">ğŸ“…</span>
      <span id="srsInfoText">Progress saved. Next review scheduled.</span>
    </div>
    <div class="res-actions">
      <button class="btn btn-accent" id="retryMissedBtn">â†» Drill missed words</button>
      <button class="btn btn-outline" id="restartBtn">â†º Full restart</button>
      <button class="btn btn-outline" id="toHomeBtn">â† All tests</button>
    </div>
  </div>
</div>

<script src="data.js"></script>
<script src="app.js"></script>
</body>
</html>
